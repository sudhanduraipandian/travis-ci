env:
  global:
    - INTEGRATION_TESTS_NODEJS_VERSION='8.1.0'
    - INTEGRATION_TESTS_NATIVESCRIPT_VERSION='3.4.2'
    - INTEGRATION_TESTS_CORDOVA_VERSION='8.0.0'
    - UNIT_TESTS_NODEJS_VERSION='9'
    - RUN_INTEGRATION_TESTS_FILE_LOCATION='./test/integration/run-tests'
    - secure: WZ3J/sziugxXNnvHcunW8sNt6KPgbYgk2OcdFopWAa8eH97n4R8E4MoBgo3LnNq2zM3DgmT1cafyl5pMR0RoY2LT0yYtrgJ4GO9LmagtUWnBczx/aXzVPebDK3i5YMiKXjiAvF+/kZvFBE+QAAt6yAdIHL+jJGKG5EQEdjdfd7Wl7C43T3+pL4nKpus4tZrSEqU5+/UbmWalTEb16SuwLcv64j68FIuW71MqikCp5PbEJugSsh3kOLaN53C62JQb6PXm7tEtl9zRDRiFUV1KI6o4Cf1ndcH+NwWZtKPtOxQR8aal8QAppgMOa88z7supl7Sf13+hdEXnUzlZzj+4n9EnUMFrYjryH2yUmJ2dw3cGD4w+/jvYX+6loKE6jcRZUFwDsooS28PFVV0jCbnHJ5ftSNIL8itfzlR5OzKAAR+jsat5omPpv7XSgIV58/g5C3fq0HXYz6qaMCr28DB28tXKCBG51F1Q2V4eXVv1Tjf/hBGvufZF2ZXM+WXBuFwEDWPTXqzb/fh5yr/aSZv8tHssKautvBBoQ5+Ka3b8B75wlJxQr2sjUu6oVRsl2L1aeLO3C6RT5lunYIxq2xsc/7K1bLG6fC/beJyNlB56oReTPwLjRmOc/cPdKhvh5Fr0VrDHZIuKGsYs5FlDOTJDInAcfplC6bbnE68KseWLIFo=
    - secure: mdlaSUQcrzD3xY+pf4Gn5LRHv742RLMx1qftI8HqDn/xFXE3bT28PDBNadKK//e27cQJPlrEVm+RnlMO1ystme+OgnXYQoA9guYAfQm1ZFv7NH0ZwkRCHbR/SRjMMbnU1IGN0TwV0wSPxtnYq0h0kTfvCemSyDJbkrr06Cc1oVhSz055NL4e5eK8FyysdtrNl5Msq4yRfDgy6mMpE9QEJ/6rg3MKx9UTDCxaVhvrjYPmd2/8Vfl2BuLCSL5OTF8yVcvgjRnk/Q+ajrLpv5vLzcIiwMlaN2hXKJv2RTYt6FEApE7EcOCpu0YXi/P4Knrm/w+a1RjWzPBtonBvABCYpRvAya6QIG6bSGixs0hUJPNt6lAOmjUo8QblrUC/ECdscox6UcGAjoU/WpeJdo6BgcSxkIug3kSIrjt2yRgGjre1HBEizL0Lym0zHsDtGPF2f1LA49/hIFEWio2swwWwxx/m1e8kOkDPp6Q5tBOJ2edk5sTrKaRef4fzYuefL/MnGmoCJNFfjoy7WBjnyelgsYWVrgPUEWW6tLD7yDK8FTc7W2IRj9KaFXLojNSGD5/YT16lZ+eFm9rp1u/tqV6YER7irEVkvPbCCx8QVUYTCWZD9I0G4EQbSKjCmfnn5eYD/dIlLfrwy+X3MYxPLYbr7l/w28a9rSyxFtdW6kXF+8w=
    - secure: DYJgjIQmznfbugSAETAwb8f9ptnYlsn7GBZAdnrNvoOhOB/xEi4OoTTJpi6zg+7IJF8QuYD7CNUdw8Lq5PF63Qrb5ndr5mokVkfBbCOivp3ovoPctGcoiwsOrdRyaGy4Az5JpUFA9cGjUiGMzy1exmdtLmMoSNs+qrM8eESEDq2XtZujCPc689uG5Bl/dlO85L63mLcj0wxei2SzsAYHyfEv02+AjZQsnoPRMNYviKJHBt5JMe9Zsr4fkUss4R9VZzchTR1PkGX7cqPjGzCTvyjeLgmGOMSdDIYhUrt9cdjbnVgHR1I++TJ56wV3q5fwqlAw6bVkIfLEJweEaSwGlfKefzsNEqDhxLvJ+WL59/FemXo+/a5BOHBYUhshnbMI/FZCFxW5L/mfZIgQOqNBaaPCIqoGyhYy8jiJ5duWeD/+kt8ZxEmMq3eSoqOfUQd935NAHYGHTl9EzJtN59F1Wr+T0ZjunFqB1Vqlptxcyo5WbKqGhbpFlJy5wzJbcgdrsva+4jn+DKLz0LqzNBYt2QNa7KnaztpVKZzGaIpuYNzWFKhe5+ecNTfHh1+Pdc0SpntYGuYhGgj4GgMOgokQvleVaJKKayXwwv1F9KdBgRhRHc2+CPS3gQt51w+c6tznJ3ZbNQ7umvxR/4kegzC8HcNXo2ctZNtOlTOZdpT6P4U=
    - secure: v49Od70ojLKbmW6uZ84I2yKXf3pepSdy7K2vREmiA7dTuTB/6MtnVahTgbxaAPnq1QWSI5TOVftUe2Vh4PVBBMyVJ5E4mrd/d/wd/V5RybzdjX2EEo9KJyGlF/vGyXTWJMcWK6rWt8kKHHRhI1D1V0QnGoV/gGhOuUsK8uaJhO6cZFXve+dJiFVG/AbIl2KUH1O1/sf0Givu1SEmmWHmZzJpG5S5p5L5PPoEzs19NFm3CsDZf8tW062j7aKU3pM4oDOSqDYKUfYqPfPs1T66XlqDPgSbC7lQRzaiYYoEhgDGfv75zFBEShEcvny70BzGEEf4wbUCwfZQCGcSAbsiuGt8Vrd59v1LIM0lfW5QEUZTa6O/f7MoJde76GKmuLJPTa4Sbb/El1mxF9Y0nE0ortrfXF9Hns1xjoIyjKlqWRBmLdqWrt0InMFFFe7aW+LRizaxbufhHneMEV2fRZ8HSUlhF7wska8qDC9b/vo0bsBxcnC/PfqEP8hrJLmE9RukwQ81nkT403eckhU8AZ9dGGI5ZZ3awj5qeAXFmf7nWWxrCTvJ91ijbwafG9ZwubEzz/OWoWzdGKqxdJ8uI3J9MPP5At9HYezFF/yO2eMtUv4cWkQ27uQTx7ML2znCUQIoFyvBktqvIQs56azvBGQOHgTbWXJQChM1VoV0LX5s/xU=
    - secure: e0CyjemdgOiP0c0UBkr9J7YItFroOiF1z8BVNQaWbWE0V+F2mtQ0W1/bLcZEwY6JZ/diLkLgeUg66B7n60dQfPLt7MYbS5rMVBzOwAhMo9py5m28KLHVyMgpa8DhS+3wjcKCWrT+cTDsUWeFNtbcXxjRqEoe2XgqGC42kBF1lhZ8zDnWF1INMqlJM421Hm+HJ2B+BNjMY5f3jRYaUHKsE06buCkI4BdQvEO1SxF8vsW5IiHQHPAHuJ5BvXdC65RayoA75/JU0nmM2eP0uNpHVkzM99wgRjXHCW2BwNTrpJQl62VXkiJXchNk+ZIK0TZ4ewwclZSj10/58zdHnsTQQKLUrWps0gJEUncWHbDRsQuOHcP+Dfq2ZvY0BCegv39OVdslcyCYks1aHXgxox9YJMiEFob8gqFnqPlp+WaHp9uPYEuFf32Uh+am+CbOpFTjwvjxqcGl9l6bXLtfqtplGfEMpHC3lFetJ22dvFou5VBnw+cfQ4SyrVP5k1bnA35us9S2RDek/CAKP7HMXTCCBPlKfpk8JK07Ctp7cJ08yuag9u6fNpWPsxG1sJL0kuVKOEvQBYCOrIoUBgx1sJudOz1yBr4wSbE8rx9wvpExrYHRnXsnscQhiRp4VW9XVRrzRmYHwfYd5qoAGoMlKxrjERbkgyD+Jpp9k8wy9GRXw60=
    - secure: hSfirFJx/nZLMVavRuTJlrujECqTKuBFh0cC6adEmaFL7WhoHnS+cZv2KtGI5eYuQ470+pg5LUWCF1nwCUhqwIV+9rhOEB1cvD1fRSHa4rEM3S1lkBWalIwcRlGPUwxgssqKr0zJq6CuwK/XSzRdGtKyaUJHHBpVpIMGnIVtm9iFrh7MM8GY1ztnDPUbvLG6Z2rQ8qq+8IqcQlth/xcDxjEglTD1tJe99nB0VAi71M3UYel64Hs8RFnk2V0ARoK/MEpNkEXBYSJeeLGA05RqKNTPKTN3WeOLgyakHGl9OUnZJjIy21V/r1pojeHhoDwFtGuEpDTX/aaaX8codyv3mdEZgUK4D1kJtgQJxFJi3shjB9O7kp9dECHB3p4XklOmZcQXR9Zdqovdb2y6o0GLbOOEKbUKM4pXvk2XCNmtrOmMEMIkzz7ejxL43WdvZ2irW8fVQVgiZcTFQ5ti4Apq76h3wqNRVIcypXJi+dGV3Xf7V6qfOOaW6GvQn3OlZTmpjJ6JStv49zfF3lD5uJipxGAsLSP6+oMMKOUJlN/qwvdeVaU7LTA2L3zHqzmTOdkUg8XO6e2Bl/DuArLk9j6uYbZE/v9QKJTWxbSF+vYb33+x2hcgmtgcsKP6gnearwka1kEfw4/8xYtwWED4zkfvLIsDgsNoPfG4EiqH35FdsgA=
    - secure: V37fo5zt3oLuj/QSVyyFI9z+R1u+m/4o+rkz6JKEesJzKO8aq/Goi/uKwTQVsK+zJ7c6swe1uhTH9A6VqaJKowqfXUxyO0XhXZnAUUenjAxG5OaLqtkfluQhPBPcXPHlatLPW/Oqqlswv05TKgaozBc55hdhH0qpQWLaxS2Gt11MbrbF7HoQevB9UJfO9Mn/F38KlFp5BiRP+zRKogAPJdyGnpd6ndLpa9Qvs60JCZXY66sav/BbMniQAZ4guOGORaxueKlpdX1z2xnCmD4jGuQnLdikx9/RVl2kutGCNfx73tsSAdMRKXI5YT9L9R/CB9fUpGEfdIADTbeOMOaFH96tUkelTErtt28mznoA2Wjif97TD5XpMxPc5nE+Sx1BPDb2+O+1wcutior+3eZUnjdoxo8ccfcf7rRmRDqqqkblMrASYPSmAlrHAukuC5EUizF0WVUCQbRgt0JJnDFfFYUXHSnRPedYgdFJmvrb7+GkbtJtcCPJfkK6sbYCpJwQJibkUJJYIzvmyQUyjeeQ0Z+KWK85F/G7BonLi1wAic1rBPvDgbQJwcGKaoYexTI23IZSYKc2rrPW7TPiUMiIPV49TMQez6cIFrdLjDTWvFyGqlOFnRES4FFASZR4P9HWRKNJcqCTwKg+Q61HdIaQdXoC5zwXGA0stXH2xNX6A+4=
    - secure: jSimf2X4zkaNaEEjOtNJW29F3XI3Jl7d3/0N3oShc7vjErgItB/eZintEhfpvPPthuv1f7vYU4uKtxHepwBjVReL6rw0zEyaRvHDB/YrspaZN+UzlBKV06NkCiFcTJtgX8i0UCARn99JZCE/FSp/kEKIe66Fv3uC6JuZctKPpKj8IvtpPKNq5/UxbDb+2Es0oa9vWjos0zsZuKf1OxA0D56hYXzrm+Pu2NqZAJNXbmKtNvYVE1tmljTz4kpJ4VIgJqrsXIpVaL2ZloO5Nn/pbvkdaXkFqkVOgfMdpnzpKp5CYCySfjVEFUMTbREmLwUuhl4kqQD63/pKvUDg5LG7HmCnmuyCWjNF2U/Z1hUVLHiIiPGGLcgJS/xloWIIB9VZVuq0DP6wa+VABXpfNVmpMKpLQuJRKzKo4TcJaMWYeUG72KqiQLzXA9GzaBspn4UEuoTlGZpm5TLDpYiLeqDQQQplA95nkDOdYDL1NGs/DKMAgyx1PT6MQWPSGPIUmxXX9dTA5S8I1EfMQdy94RWRkgIF0gKwgAB+ig2JeHJKJ+NoguXlryCQsrLrbttkYi85ZfZWxZSg2l++ZMwheDmNvmWiilHg2Rnu2b6q2u4H+NB/1xSnIGJ0HTAN9K/UHieoSZtpuF2eghDl7FUXHgCF/Diok48AUrerz98crsr0PT8=
    - secure: QKvABc+mqwcQfROecTjsvDMKu+NenSJmY05l0oHBZRHyWkzLauWHK0YAqHd9PVaejeBDZD167LJHK7PdxrKrLxH02tklpQKOGzI1XcAyRJn7YawyTKeUP/znaXC37xdhtKq+2SBRJoZPVzgbPYpZAlOM50y8BVWQ4ETKVZPw472B7GvE/DCS5I9aLFJQ+hb0v8/oPt87iR3biIZgOiswGxbk8TrWpNSBim13OWx+h7/x89HMjqal2i1fbHMsZtBtoE8n1IF2h8Jt9O8yujYmxOsT7iUIN/NffQ98RkrtIGWbO5tPVWWtTsbyT96kV0gWyUIN4QFHNoHNPwQOvrMj/7Faxx4Mfa5tnRnf5px5ZmjDfuh5ROzX/npgI7TT94uDJtv8IeyqyAOmbzNSiZpn9E72/yJY2cD+nOIMfywkcucZXJxrTqUUQk6YH3w+jVMyWPmUys0sD54NPkedPiI18/Esqc0L1arco+Slert55X+aavjBzfNatAt7g0E5ogKc3rJOerPK3n7M0j2XjUlTv82xZ436bX4UjN06D7V6QSSJ1bNS19TTanLBa1NvUQa533p1I0OZTYeVh1DE0yDgYXuthZP7rf8Q6ZSSf0G8UJiu8c+3feDqHXPbqr9pzWep+cFlLtL/MqjlKHVRMXs4OuHPKPWTXmjfxmoMNLQ81kE=
    - secure: pomAHaSYxqUTx+Zuv9AVbdHP09FUikn+UNCsxvJNwISLm/9mvv4uthalD9h6A4aHHKZVvIAAf1pnIDiO096A6eIDCqc0cH4JUEDJiqJlBMMg7X4qWhRx7A2oLUtfY+YfyO6ZvGmByuRzV7NgE9PLnrdPQTpsTNSt0/XAkzfXbBcCvsiygl7cJNchqpJu1+ojZnvTy1mEFBkc3MraisoYNq+auNa+lD/KSsiGS/zJWCL53l6yXg2yb65hrH0ov0PDoRSSLl/dedfgyQVa5lCCFskjE3wCIWucrtTuKhIek6XUbIQpcABE5hGfVdAODfLxT+rWc05/UHHbnZ+h2fNDnHndF5wyOtdmct652n9LOFIs2oANMxZqJuNFrNm5iuFj4MPheg9M4FowJ5Am46alkJ1stsUlT+FVR9wkSN/wWIElC8+PhW4EsCCO2ZytRt2loQKUk+XL+GV+XNYNwi7wdykqKN+kLKVnrl7tXzrE9JXoPTdhStIwbZ/VCntlIEt8FTinZ+E+EntNdUnDlmPZd/eGcDhpy+fCRohuTEwEaXPMkIUxlfBF21Z+TPK0bEkvwT+x7UFr/hus9wePNMDcA05SjftrjTyJutAw6QJ1MokF5MiBPRiZpwIA3/qMYtsU6Sp6cwTJWvDWdMZuLqgq2MV6qMG4S/fxhAkKw7ycD9w=
    - secure: UpvDkP4MgNeqUdFrxz/NOJjchd+R+QW9d+sUr/TdC34ukzNhKzgHeFSRc+abMOKjb6XjDfFOR30l6lKDad14v8gBE/xcakugkCeKeUrROJOvGqFZ+HJI2zl3XGrCbT4ZowhwmEYQxBuzxTijBGPIyXehXK3j9F+KhsQ9u+PxcKwWd43FKSB8Cte8gWFS6NV2Es5rZvmiSsrDj15TAGWxfPlZ2UbI0JFQ1/Y+exH9CNidW+VTuvqdyPZIkLgmVRcm5ZUgcR71iT1zw5B2wOhMWzxK8EY1k0ed3gbPSdkMy5D2J5sWALAEII5f9/IaAzCjgW/HZR6AnZ71CEjlQdtBQZZUYSOTtfJOR4jUjsA5ce3+bR5wy5/gzcA6hLrY9tS6OdWmNfHl/mY+cjaDcPhkmpKpOVjmdytEq7Z6M+vzM50Th8Uyv9FP0WWzdWqSaYaXMO9+3/joa8UnnByzCgq/FCLuVUIPGxGqOSkb/7um9HZyd+GeNxYWq9CtWwMKY1JjsT+FHceSEJMl5LbCHf6FGnimAeShegba5P0PlGKeII2sMnT50wGYviykdi7Z2bO5jCeegrCCL6kwxQHfX1Y4c5iAFl9qEykUwyPPo5Y+Kw5Ye01bZ8FHiI8nA8NY77byjOubivncKG5CEr+dM9Slu68psP8e69KuJ6Xw8LSr3Lw=
    - secure: vuY4UsnnZhsvXN1hfuVvypUD1MazfmHNDD7sUhwOR5F02T4sR8aIe5HR5ZEAu+cbNdocydd9UYsYRE+VY5krM/z6g4+J2NBV9ZDxNKF/p3oK0R4C2vT6XfxTlEieqfzlE8Pit6f7q9n+/+xebKs4RDX9b+lXmB6NcCd4FjXZxtR00Jt70a3F0x0qHp4Qa8ikfsNcHoihFl3vnRBnd429N6Jj/3ftGN01Ofd91kvyqFvhbk3o1xqxIbkZCvkbj/CrXJ49mkKQVETkorXrYY/snrW+i7z7JpFmcxU+zwxxRDfULr02V5g82IJOQSMaXZYoIcNtFdn1G3zaRnWaOSBWCAMybwZzjl+3c0VDTtHPNrkdbsSRv2xPf+zMKMJ9PZ7w+UDC2L4r6sC1cbYDVg+6SrDO83bIeWeUJyK8BpSx0n2tvoQI7fxyz52wSFpshY+XQ/yT7EA4GGo7+XailtleqeQXyBe+deupW1tNVX0z/cyA3xTsrsZIALGOgSaZUHMdlXBg0pVRNdSdTyZB2NbHt3QbzmrrChIzQwk0BDjo8S/aoHuSCRVeC34quFdnuKZflDRrF0Z0AEO/CF9G81UJ7SRkz53J2aj18ssEFJ/2TNU3jtZAbdVoFtTiudd4uz00/ku6IcAq6sl3CkskEFkqLPZYlom0pOhfP3ef5pjKHK4=
    - secure: DBqpYIXv/bT66KhhqEuwQbIdxCmqli8jg7Sk3m0ZnYs3Z2DVHkRte/Y3wswZiqE+nujX8qHcMzvGk9NN8l30Mv6jAfMgewNWW/Xu2oJ6ZAZm+cZRMskhMP/5TzVs3RmOz21rbODpHwA6DLVoebfg13JaFNMg8I+FoeBV8TqlAoElLztW9wkx7jZkmeXEJK1DWocGVtI08GSbCo6CqZDRIgf1SxqOQuHyCCAJ9EFVn6lxuUtnZNMWMPvbAsyh3WKsP97XxC3uzZq+7BUkynM9XlZ3mHYkYZWvoz/qn2sYXYV9y3Wn6+BHGvDW7R4coSp3dpSkvBna0aPO9wpBVkHss6lDYeRz65z6XOr2X2inLonoBmcg21ChIo45v1vs0OHP5jS2KroS+X2UVxhRbY4HuyN/0k3UmAnEO5h3864yXX00I/8oCbvARNl2pFjWObcBcGEUfue79t0jBz7hVlPHdfrSrRdDxKbxzeLxR9s1sKxqR2xLt/xEl72KTaK41liwAicc/2gvt3dGXQhrXEHRg0fGjU2HN6fywKOA2InnCAXRIA9ql5+0VsYiqZyy32AZaaXoXxF4zLAJlfh++wv+s05uzrwOAvonZqKIVS1eJNyLr51Xc0nV2lG5VCrm900raPw4h8toaA0zLuBNEiuOld+eFHowIRrD4o12JJ29eCs=
    - secure: mL9ZdIOnl0g5II4rQhwKTeSvKEPonzaj2FUGKbSOEwx0Ol89PdkvbZccKgucnIzeDyijx0Qf/icCdtCQd1bm0m5AJGV+JPUfqKbOUV6kh/DIOSrI6xlnewyjVbwPfe00bgaiOcTvnP80aoy44JEQu6SyAiXqm8n+pllIyRksPjxAHq+Ozsf35OZBFXm5ZufYjGa4E4JPgxA/cGY+WBWWaYy6TfoB7vLASzWinYwJBj2KjmNjqSnz23RF3HqG4hUQWz5W0D0SONrtedTkmYZ5r/NKlDmD4Tzs/pVd1giM8Z4mU0lbIV+5hZEBXNyBmiFSCHB3C7utomflsmmG/KDUC3Okh8Xyh4F7L64QYs8IV4bjMKkE6YeiZOjnQHWwIFkRDOrIvgw/7mlj4Q4UFIi3c4LPrzrGcA+Q2BDTfk0KDi/p75+Nq4PQeZlN+wwj7/ViTTKCEnBtudlafqQHWA6RgUmyFwFsA5Gh8QKinB0o/M9RStAjPerjxmVfMtZt54o92OMFaPAS4xbvh2u2TWLDZsuBSsKBzU8pDkBMeQl3IypSIYCZxv1I/6g6yHSGbN+3SUNwWPnq8iv9U7aYqDw5/Ni9LhC79/xXr9s4LZTo51BrWT+rPOHzhev7s9rNJbM+6WgTscblHjK+OJxUkP0SzdklZEhLBF/5X6ATz8UoYlk=
    - secure: Hkgc3LS2+ihYneHyG9ib7scO9eTvH3VhxHmlU1FI6rFjkbz6oLvM1SaJdnpo/4enIiPLSjVzd5p50zuEP46tJBBMRboJZb4/vTfb0QFA5VwtAiQoHyiyDO7x/6j5uGB7EJc102u/IUjC5EeM5MlsQYoE47E37K5ojNUNOQin7PLAWiDxwJ6C8DWzhhTT3D4T7v0zpdxyOQTDHhqE/CwwqaCGvBZxGxrjwtAIHXGekX2yknXgy4OHHvZBnInyHT+QP1oOXLsHp8ZtLaT4UZk96VSsjGM6CzavUm3OG8qx+sU/5Vin5Y/1pN/yVgzHayctKIw5q632FeyD/jtaLgsibUbszr0y7K+of/9LMzAYZEHdEmBXYjxdoqVDChxKgiLg1nCoQ2tETTJpmfrsSSgFmeCfBEFmZCpascigYnFqfbyBu9vwppvihdogm66VMqwU2FXPmOczNopYZYpO6yJcuMEbiEJdYYimpIByZukXdQX8q/h1kx6dcBK+kSnFoBWFcQbaPblOIVqHuO5O76b0Xl1AtS/VYIUfa6dlbzKNnyR+krxf4WFUep/X8vZpbegP4nE+VDX1aPMDTWy3ew6uP+lThFBJsmQGabX1PU9s1iVwb2Z+lgukPtdPfj2RLpLq/IzwuG64a4XstxRKnbhtHlfdvmrbRXCoq2uCerd+BBc=
    - secure: vR9kk75nDGKTbBCaPLwH3bSkkUnu9o/Mr1rU7gBTyG9L3s6SzHQkUvxLVpjEuEgzx4mpqBaJIzbNA7txCnZkvQ5vfozcuPmrfXTaifw5MpIAi2a1uSN2ctZh32bhR5m+OfPGvmKyXMRvgQSlG3cO+lekWRvfNAwhU+vMwi9E2HBXVXBifJMWTg3aFU6wISGRea7OhFdfb5ROpFVqR3chAAevnd4UeOjY7VczZx/w8MeyhzYqNgiZJ5q132vpapAsKEBQBM6HJAdRgmlLYEZHtjh9ROD+dnZSmUAEj/NdHqglBMif0yW4W5X+SKWLF1xEUkYXT0/tPzYXHwcHsStnKUJhKmdlOuNYSzX+q75QNbi+yxNnqWcSeMNtN5E7n/MYsRDQVY1uo35q1C2iTOWHrWaGE8RJrSXPxdh7Lq0wFVSm8ofUW9+vBCFZ0vxspngJqIaJpZyPbOxKvWADd+r14j6cQFo+FL+QNUO1uQLz4XPrJW6sU6uT2MTBDDTQdH4tWtswpAuc475d389FRsnyiKd/c886rRULIUq6oRI5fMlFe+8WLw3QAzs22toH2xgXChSkHnBF71/FAW+79v+lOmy8J5kE7ZJcROq8meBWH4ASk089FRWv3wjjOVvTXx0O6XU+7jmS5fLPEtpoanuNdFfPGzN6e1JLbwElP2UwpY8=
    - secure: ea6+BvenROTG7giVAJiMVsGPX2QLbl+NVEN09cxq6gZJIqsdr+UN6S8RGMTNAZibmeagj5gMF4fQ2tOwgCl5mUfFStk3dXeZYJ6bu358KLrDvqTELoQr6pMgsWc04L0dd/7xUBH0krMc4XCkOT8aNdNif+UCjPoIBEKuKBSviVoEfxVwh7cTb5GJ1UmozqTZlxf0/2lBVNC8EYylHWyhQ7Si94CNQbOlvqq97EOjA7qN7y3m6IpLvkOZ0JUqc5gQcdETtocIbgc6crrSv5c1cUAmryL61gA25qPyedydK2uRsgNgO+JfZdN3+JoKWhyKhfNzvnMITk0tneEYYgLSauEt1b/+loYbd5yNIhvKcynKsUTkzafyVV1dMmz/Bm9qS6DGjdixHK/UTzXThjyUVmzMpuAPrRdEHq1r/1R7rmgPrPR2TWCu3zDhvWSbh4jfJ7tQaue9+7pzJ0VOYxfnwLX1c2cP6CkZFgy9tUsmrLARS54f2BK8dWW2uqJFQre4+IlKKznn5eIuyxzH0dbkNU1gM9UX7RYV3IM5fM54H2ANoF2z9PsHmJw0f9bSp+Z4rAGZ8PVInx3gH6t7dp2cU3suK2+sJUhzkBDXzd/DqCdbM75IFTyPGrMOVb+MXQ+MqBwzp7NCb40nO6Ob+0VmmvmhzdZu/sjjyZ2rC+5c+qg=
  matrix:
    secure: aqcGPDGxdYhbW6Cq6JFKHmyjYBqkDgDlONgM43o5ES1yIiqdFG0LySL75XE2QBocyyG/a1tNMj6aX4nrLrsukmNlEgXieWjuQs3EaTjVHiw+JWhU6yDcI4PqF4ZoD3ANdghxkBWQ8YjL+tfHfwCSnewI0UnRBsrb76Yv81o/Frkr+1zAkw4kG/6ubS5eRGcA9xOOvo0VDkz8HtsWnbxfAfLMBhsPICmdj7KlZJZY2hjfD+okf3DcKQqZZPi7bqfDb7AGmTKufX2QUVFRbT1p6yp+xH5hOB5QK2/2YeSXNntkzO2NhXsiyVybBTAhnulTsQMbCv6RELmXIm0/BHS0bhPzrK8NbQJPrYHPVYV93Z3S4Lpg1rzPAPIDf124V7CAcTYZEXgjS6YRUMMPwA0GJJDbNuJnwGiVGL4J95dkllf9h2BSym0zsPhtU94OPQvWs3VyfaK3uz6z9X/CmeeCuhOcPYV9NWX5J+6swI/tttYdnNdOa5j5PCoVtRD6hIB0YsBpxLSOIOjugXyQXNn+rWQbvoTZjQMPInAk/Bhav5IGXC+Xa2MesXJh6Nu7WXdwXxXEwVNJ4/jJULNsP7NTer0G43akzkI4m4Fairw3mo8HXdhQ+nmMyUU9xqmPWvgSNsI9JiBxTMu8xmN36cdmNiBqW+GWa0iBzlXTq2zK9lQ=


matrix:
  include:
    - os: linux
      env: PLATFORM='Unit Tests'
      language: node_js
      node_js: ${UNIT_TESTS_NODEJS_VERSION}
      script: 
        - npm run test


    - os: linux
      if: type IN (pull_request)
      env: PLATFORM='HTML5'
      language: node_js
      node_js: ${INTEGRATION_TESTS_NODEJS_VERSION}
      sudo: enabled
      script: 
        - node ${RUN_INTEGRATION_TESTS_FILE_LOCATION} --platform html5


    - os: linux
      if: type IN (pull_request)
      env: PLATFORM='NativeScript Android'
      language: android
      jdk: oraclejdk8
      before_install: nvm install ${INTEGRATION_TESTS_NODEJS_VERSION}
      install:
        - echo no | npm i -g nativescript@${INTEGRATION_TESTS_NATIVESCRIPT_VERSION}
        - npm i
      before_script:
        - echo no | android create avd --force -n test -t android-24 -b armeabi-v7a
        - emulator -avd test -no-window &
        - android-wait-for-emulator
      script:
        - node ${RUN_INTEGRATION_TESTS_FILE_LOCATION} --platform nativescript --os android


    - os: osx
      if: type IN (pull_request)
      env: PLATFORM='NativeScript iOS'
      osx_image: xcode9.2
      language: node_js
      node_js: ${INTEGRATION_TESTS_NODEJS_VERSION}
      jdk: oraclejdk8
      before_install:
        - deviceId=$(xcrun simctl create 'iPhone7-11.2' com.apple.CoreSimulator.SimDeviceType.iPhone-7-Plus com.apple.CoreSimulator.SimRuntime.iOS-11-2)
        - xcrun simctl boot $deviceId
      install:
        - echo no | npm i -g nativescript@${INTEGRATION_TESTS_NATIVESCRIPT_VERSION}
        - tns usage-reporting disable
        - tns error-reporting disable
        - npm i
      script:
        - echo no | tns device ios
        - node ${RUN_INTEGRATION_TESTS_FILE_LOCATION} --platform nativescript --os ios


    - os: linux
      if: type IN (pull_request)
      env: PLATFORM='PhoneGap Android'
      dist: precise
      language: android
      jdk: oraclejdk8
      before_install: nvm install ${INTEGRATION_TESTS_NODEJS_VERSION}
      install:
        - echo no | npm i -g cordova@${INTEGRATION_TESTS_CORDOVA_VERSION}
        - npm i
      before_script:
        - echo no | android create avd --force -n test -t android-21 -b armeabi-v7a
        - emulator -avd test -no-window &
        - android-wait-for-emulator
      script:
        - node ${RUN_INTEGRATION_TESTS_FILE_LOCATION} --platform phonegap --os android


    - os: osx
      if: type IN (pull_request)
      env: PLATFORM='PhoneGap iOS'
      osx_image: xcode9.2
      language: node_js
      node_js: ${INTEGRATION_TESTS_NODEJS_VERSION}
      jdk: oraclejdk8
      before_install:
        - deviceId=$(xcrun simctl create 'iPhone7-11.2' com.apple.CoreSimulator.SimDeviceType.iPhone-7-Plus com.apple.CoreSimulator.SimRuntime.iOS-11-2)
        - xcrun simctl boot $deviceId
      install:
        - npm i -g cordova@${INTEGRATION_TESTS_CORDOVA_VERSION}
        - npm i
      script:
        - node ${RUN_INTEGRATION_TESTS_FILE_LOCATION} --platform phonegap --os ios


    - stage: deploy
      script: skip
      language: node_js
      node_js: ${UNIT_TESTS_NODEJS_VERSION}
      if: tag =~ ^v?([0-9])*\.[0-9]*\.[0-9]*(-\w+)?$
      deploy:
        provider: script
        script: ./node_modules/.bin/lerna run release --parallel
        skip_cleanup: true
        on:
          branch: master
          tags: true  
   

android:
  components:
    - tools
    - tools
    - platform-tools
    - build-tools-26.0.2
    - android-26
    - android-24
    - extra-android-m2repository
    - extra-google-google_play_services
    - sys-img-armeabi-v7a-android-24


notifications:
  email:
    on_success: change
    on_failure: always
  slack:
    on_success: change
    on_failure: always
    secure: zhQEKSmoMrI5yj180Z8NtAqujmMgRI3TIO/DrnFEDjuXziBanKr2Thnzup0Gmr5vfOA1c3yh/HVs671188UDsE6YSf/r8ephjE+dzlk3iyYE6ViHUHB7ju+DKyGOeNPk8yMFUqDhLhtQ9wA8Bvlzbfn/ZwPk2ArDZgp3ixBEmIzB/gkcq4EC+2ciJbBUh99fOPUYspvAvf4xLlQRPNiuZ/BSCfeASRkvYdUp9kAMZecIt2EfAneTAOyEBKc+8ob24Yu5L8GfSnNa8qeAmzwki6WGaVR7EantJ0SA/dXyISlj08ckW/MEY5hoBhy1x0/gsaPaLNfq/GRz1Zj69Qmqz359tknuRBC4lMmEyutG9SKNBB8OAtNyUUnnNi45P+fyTUP/4l+4tYEN4hj/ncnFKvW5P5ls/LZ84wpjfAiUlkVqSwKXUnzccYDYNBfeVMEpTwoxctBgRp9Akalf3nVYfZHvH+/Sy3VGzDqagF+55+kTgfPmf763lKbOanr2HNzpvIfT21UyZ2EEDAoAkqr65HbA+yYgs/Awni02qzalafmIbP3aF9a3yULftubAvfsKALjrde38iqE5kOvsyiFOjescA7chdpJqudn6sT6SuYHaVoaBzqKX0t2aLWq8a9rMoS1qKW22IQ2CQilAtVG5Nb19mcUSjkisoIYnrCvK700=
