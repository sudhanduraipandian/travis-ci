before_script:
- psql -c 'create database "ratmap_test";' -U postgres
- RAILS_ENV=test bundle exec rake db:migrate
- bundle exec rake db:test:prepare
language: ruby
rvm:
- 2.3.1
services:
- redis-server
addons:
  code_climate:
    repo_token: 1fadcdbeecd5a71dc5c16cb3cf29e99d5dc7348b1a59f5f7430cf3fac4623c7d
cache: bundler
after_success:
- bundle exec codeclimate-test-reporter
test:
  adapter: postgresql
  database: travis_ci_test
env:
  global:
  - TWITTER_TOKEN_ENCRYPTION_PHRASE=TestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTestTest
  - secure: UTRAtJoscfuvYZpML59bKtpc8u3garQETkDKA68Mk1OFJbPxq5MbjbtI0b0hX7GB4SzuJwcCF7UD2fuACvL7S8DiAQuaz1J2PfJlW0ySQ0TqeRZi7tAYHtUy6ctMtHLjYh1IQf7e2DXmO5qucd97rspNZnhfpUxeM1NmJ8m3Xr56OeMtTafLUoMcsKLgiTWGPkgNYgLC3aaRcHaKKuntJqz/wHXMFvbw96RE+ZOOuTIIR7Pc8dRQWamQ6GnkNmEpU4Mxh0ZgkoVJ3x9tncCJqWmLqse4MRioncTdD8CWl49eZgZ0Tf4xJ1/aRj0xaEepUrfmlxcWDIQFVeA97tpypSQbuDZsPWR0ywPQpY4n+ZhGKeHrdXVA4eW2OK7mAGAZN52uF1dP17oaYBkFSU5gGkP2kOO4s7Je9SNarxmQ+MNuzX9niMlmaHNcC3o0PLxow7FxpeU4LbxcU3+cp41puDZB2Pb05aSfjAuMy6czhm9rzv5W3ie8IGiwxa9j4JrvfAaKxUblD9BCjfsvTDNqVd+klVcjMBoRh59ZdrVmf0F2pqQZnLkOdUXmEfpyK0lQ3Pv9ARpMydmbIE7DpVeq602efMWIAuREYPjC4bvEJ4Nz9PmpPeX5MnbzpNzDhiI+M0vXkN+I3u1H5viQnG0/6XV235XTYltxB9D/xUGiR1A=
  - secure: LastIFud4eHzArcxi3mkZqzcno4P42bYb63HDwlokOr+PcJ8VFZK9VEaZoWBOjwq1zecbxhl519aq7r7t70QHQnqW2dT77MGDY9L5MVW+8Dvpva50yxeRmZwi2kXF6IRHI9etspBRKq9T1vMcCF+cNvyoCmtuPRNfiKKSBkD4KP88RouUXbvMjrMWb3RRZpvnfJwAJ4eARKNkuaJqrFmiKxDhhkv3QFJe90ISIRq0woXnUDgPKsFiG/KCAFpDq+Tu0ChwCxq3sBLt1BzORb3S073sQH+wo2CkGe+JCBjVXwPpxPphGuivc8+PsmCezPj9abjokxxsSC7z5cxl8i1ga5usn9B9+ofpnaIFV/qbf4YIoV0sMlxbMCTbk6GYralEdkOk2cQl65RaAng34+dHGA8huYt+PcoPpYm3+vsucr8/On6SWE0jv9BFIt4ZjKJyqSBkfMehheeCUIYPfglmfQIuzqKyQHJF70TuXNtTcF3O0miCClnKdszZbldRH4PwBOvNtMxarpx/+NsZD8hrgXpu+qLt5q+CxMrhG4OYph/sGDL1aoswcOVyOMxMIn0D3OpyckJW2YW0hpOaZkoAaVo1MdFpooWQzXWiP6xbUHiD4Zd/9a4WYLQniNx+UqfVihj2zOmgWWZSLRcuOo/Q5zjPgPPMbt5zG77FxgkeIE=
  - secure: HzHaiNBaLRvycCVY6kpVnWtycSVX4kgG0zkawSmygJolfs42zA+j7vYJK8z3+50sV9rrC+t+ii3JoC60L9Os4TcNl9ITi7PSSi3QNL+4kzS4PA6tfck2OuStCPbhifcCAsDMLbiDNnx3uIEj9J0/DVVmk3KEPBoksN5Z8QuJ7bwiN4CQ84jqPbRJY+A451fuVn+Zywrk+CbFpVZ5Q1FGmw8Oi3Wn4Q57bD7ggm44CjNVd+ig3MgJpgF14fZK7LOSqCm47H72ynjGL7SeoXq6Vk17j4yy9KI4ZEqjb8orHmpxjJZTfOQTPqO9l6EQVaHJFPvEfUjFNonD0/quG4wGAdo1meRAQFe9ZFoDcEl+mGWOkvu8oPD5h/iW+Wnx74jWdQaDSptJMSp1D0LnvVAe5IesqgZ/UADeMckRx/B9l+utLPT5U2M1hxkrdJFLgtUbb03KBjeqsnrQcoNQe5fKv/gP83S/806/ZE+dkPtJ0Q2xAO1C+pMz6c+FWsRS22fP97To3dZH+sVXAcZYqoglWTsh/OnDW0yBqVE7ePmHA1VE6CcNEuT/iD2DyMuzi3Fm/i6fzi3JOlj0Wn3W48DnaHHYrpuKd9991yBfYQggykNiAp8bKrLvN5m50lSbIkvFzZHgiSV95nNQ/7NU+b0UkDCZ8AQ007kLjZflJF/y3zY=
  - secure: ariR6F6uE8MSu9A4Gu5S3447EACIF/zdKR2Vm0ryU67Y2n/q+66itT/qRxVtZiTK6RkMM9AH6p9VuRDiEv3s/LjElM4XxmCdCm/z2YmyMzrezIje6q6P7RHQyTZ5NU9OQKpt5vkp+ztmOGnihxjSujA3UDSerKKplapJ0PDvLKHqpuqe51LVz8CfXA1tGn8NgKB3Z2z+pbBATlXnAb58FSCmFnAdpFdjU3zCidPeL1pq9WTNuJgAcqao5AdqeRwKx2ck0WynwO9zp9C45xL9YTRwmpSXK1B7K9JWSxlxzmgb8MO165YRRgAPIOL0ahuYrblWxVM7/1FB2mv+xfETEuNo7XQpFoKtNazw5xxnL204+ZlaE64ZfEQa6+gGcBSB+uSQElfxL/v/D2QkJC6DKpMu1dxLu6nqI2dxyfjRhmjUFWqb/33WGGsQZ1Tw2752a3kjtHFzkP037SpZWzDAyYbo7iSqzHeLGeB6btEfh26XJuY3ipGD9aeAWmGAl41CHOKhhIpBngNlitWLisUk8t4KznAyp6LgTqhHZuRynu0s+J79LOct/h9YIvqT03CtbqOe3gnWhVb1Dc1PuAPhDYBdjMtGupjbf/pWugZ4ruZhpbt2vsXyUJK8seJ5hpcjKmuDT6xAV/VQzsW522iLByl5LArmnLYlzkvhFZt3vnE=
  - secure: hyU6VEgWQXBbACjmC/3SksBx/BtBQ8nohQ7ah91cigwrXpnxN84GBmL6df7jF7gh1wv/7rBpJ9eMpzistVj/iA6y6GDSL4gKoDY5C7jWt/ACFnTDDZyu82S19e0/e7S/hq3jYDE9f1DtfssXPvp86D7k2Lp8SuR381Plfd37ihqg4uDgY+8Jt+SXMjob8tUxnLGnyDE6dAn/wgis7u0HW+DWaT/2v7YqU0XPJXM1GF8pUvVqtMtPUoXW7zjeTM5XPYBYLlEHudUNzv4aNOTUE590gNeFdBUTlmZPU/PDT1QQ/r38as+GCqYcL7rRbM+WL+o9fSQx/JClmSeGmp5O70cD+3+NC70ka6ncBwTFya9BKAejedUhGiwFhqaUXxSVJOmxoxZrRQW05S2GidEB0/VAQTkocoKWVU7fyn58WyxcnTA50WdWIxzDm8kjz2ApV/2gqcZIl6/fBJl8RcNJuu9bIQitasA9WSAAT5NKoUFBna4Uj1wfl1DdYgC8RVXADMKhJfUkiIkmtmyAvBVTplXfC8EIfAz2U25YcluSTpRJGQ3xOsMFqU3MkY9TUE9yeTq1Pd5anzQAMPrqtKTwHDudqq5TA2gkG+GRWm/v9XFiSMkGyZcWi/UevREFoq5QQnenOor/X5MnUVb2T3sRCnOdXQtRqusGFAflCH/KzYM=
  - secure: XMYBhWhxY3BHbpHt70bLdyF44lYNKeCgJFrwmdqTV3raTHpAKjCDuI2yEvKkdpi9IqZpN67fXThiYgmQg1mgbSXTtPnSxLp9f+UcZTF5H+xLquKgnQrugshz04HzHCGYeplkUbybfC1lTnLKY9n0YX8Xe3D7lEBt5fCoxKr3vS4s8HSkGqkvW94KgQHa53k51vqNMskxn8QkQt8ErkfbSMtvmmiDzRivvb9E1kuP8yMGhUcnSZElSnJeIJTlaHcjxMfX00EYxqnrTI+TDv94yGmofrOsFB57SBmGLLanE7SSvmsTSphHViqJZDFJ5I1BboPbQ0obfa8U/uh4ic0xezI36b5/9xH4tSdCcaUbaFXPSVDGLfwR/ykdDz0SKYSBKZKPvYS8CUTmRsHavfdJzt54EWQ/kz1XYUNfZzmhVO2i2H8VLauLdOBNW/WaX8IBEzR3eZS8StcMKr3AMnMy+bltOk3iI9WU/hzuhbDsG6ybprpGNQPCPeDAxnx3lS8Byiej1icGKWR5T29b4uzCVnGLS00hCfRAks0FrvFECJDkNzj4yQs+ZG6hKHUk7atuxDoCAd/xWMyRn+CgMoCuXUVHUJRjMxnlAykiITrMtl5OTUL4rL9OVSyaT1bdjsGljfMCwFdW6DdxPMhCEsa+031rqUfheaCigz79S3/7HuM=
  - secure: RrdzkIMv6DxjvkQfyxz5yKXdiz5ZzCnfLebXuK0vHfbzWpq9jm4cDhKeEJaNRVYeovnX9woOYiQoyQs2YTJFemHqFGOkEJtzdQaTPOdjI7438ez/et12eC/QCNbcMuN8L6Wq6ZRrXdWtdMvZ2qfgNnWIuV+SxA4PvhdeQ/cRENFBjTVcK0Jax+842j09V+YiEnv/b1ceGR8OGwi5Po08Z8lLgeRsqMkeov+Gf+2zRIbZ70SMZ5tjEzJ78QrXwTbEVodPrW835i8NCZfW94aOElcnerDGCLCgtYl4U6v2lPrCqUr19sBDBI0gYGvstq8wNlHVyOnl3uePhOwDL3CZWEM0C0fak6lYZPecUdxPckkUZkZp6omR0BQAKE0nOLoCdpg0YZYlWFfwPHCI6oOVPqxT2dcxWlOPMhHJkoArM/6iQt65OJSvn6rDFsE+IoBVFEKaFoiF85KZjHKuxoP5g9ObTtsZsUlN5Shp4oPkMk0nUgfBVzwMakVUwx9yg67hnmeKTvMS4FntLbL2flBo5i2rf9R+A8ConOAuRxkivbT7pmClfWu6T2oL4AEGGanOWK9vQ4k9CcsCXbxrZwgVJOBDl96RW1ixtkzi21xCFPmpDPmGuk2BkpHqIteY3f6O0Us6OjzprGNGuKU7eU1XsOeMVP+SAVuQcUUPyNpZh8w=
  - secure: zUGWNCBaiw7LF2fPZUca5cs81/B9Do0ekmHGJPuZOtNss33xniTGZ50axJyVfZlhW6Z22CiDT6BH5ywS/AjQF9F12QaX/mNsXuTsHZ5Lp3WpqqETpIKatuz4iY6k9IIxUOVPdhhrOzNXSS7yZTnXZand3KcFR6GEGN+TxVwIzHSVzjONDKf1MX401/rGRWI47AFFgOTb2UtzBLucIAiOOzKRU3+shtBZnKJjG2uLPnUg716eM6jBt/JdM20kQGLIUMOcKYjcnBRoNX7HeHfnuOl2RdbcftIbCPftVusKRV8iBQXIpt+i+v4pKCmI6+kEXR0O8hMps5rutsz1kirSFg3Z4qw7JQuLEW4Szmc7KA8VgomdVD0t6OFyTTB4Uh5k5+L2JocQQcaTCpvZUhVd1TXAG9nWrhJTg/CkLaEahxwqJ4SqxmgVMqWFtVQLrtudDA3bHB8baljqfTvEDc1cAcbfsVKx1jcUJPqo3e6I7AVL1QamdgEtMqlZvUHobj+Lixge2R/4TOgMBnGS9liAUVkT+qYND6rCZV11aq1ozzgyOzHt6W7LXHapWUqMEjoTaRq720R8ZxDlWcHsghxHI5WEAZMXjaSwqCG09hshiTS4jDnnh2o09OIHX59Xd++20lsqhKhSXcmwxsJuG6CkPoJ0qBT4HvEUiXccWZ6Fjfo=
  - secure: ZNHG5LoBief2F49bXT2vccPbw/Mv5ZIqJ5tkXD+YPFFAXdLKbxWfQGrV5y+hXYb0UIjtga+YM/LHGMFkyEZ593pGmmGQTirfnqz24++314Sl25fzN4Bej/J5VHa58HNiJmnXnnL2R9HUW8LXxWmeDYZ1RKiJYQAtlXYZsIgQVLLLLJTCnguRNISLJJXX/gHdnVhdgEDA2EY/tmrq4fDaoF+9V9HhwfreEti4C/rXjrCkgN9YYxHtzC/4wLEPxOkESo21ncHJ8MghzDXQRAw8Zr0OzCON/5eunUEVcABhFoeilrYnqxsPKAORkQHG5q3wJZty2uouC5FLQZxvZIFpk1eHFcRMxAsxA0jYuOxN10TzQSg2Fz0CrpwSBeNIj3HUBYOnEgJQLlKsr2JTAKOEHIVDKYDNr7m2s5vZEJZaB59u/wU0ap7gHUFJV2cN4+aln6WvXp6Q/StYt21OkGzWahA3TccSh4/pSvO4QCRnh6ISj3WN9yXjSOG0StqNVEH3NStM8UwW+3oAK/4nmgOt3mG66umtshJCq2Ea5r3emL32FXucHqxdhhbzIZQi0ozwwrRSMN7BBKeZKt3xeEVvKXWSZScnQFrKIJ614frbwq++kXDpT5KU6rZsn3hndgOBdpkNUyTBkF0bMoxOFlaMnHV4XWW7zDJDXBuhekZHzqA=
  - secure: vKOqApzw/6n3qLAkZyt4mwe+RJLV2eJ7Gm4gpflaecg7y0icwQ71tbMa33eORGeUIgWEz29oncZSSs8Kp+WPYfwo+GzF71rfHOdfbznULfXg6h1IqbsLUBY3n1epEk9y++im1uYj7tSRdIycjuLMdzP4je8Rx3m1lWTRiVQ7z5XN+0TbZhjIUn82C7TYcjewg5h07qDyDB5NaVjM5f5gbZmhv55bvOVGU3OUuudWB+HEFjO9vlczEcQudEWOpeQ0DXIWvQeUnt7E1770s2ldgE+I2GAOcPgkwZU/KCFh3RGrETlpH1ZyP/4B9hiMZ+9JbwUv6QD7EBG7It58bZrbHNFfP2gjKXk0B6JyDvhx9a1xbZylt7C7UmhDJvWigFIy2uQzVigvRzpg3FkOr+VWlC9bcD+Sym90KyPRANa/4UTDqmTNxw0k6D47Idl2l3sRcXF4UzJsoc5VmanOK5k8H+9hoQ9kC/g6Mnvwm2v+T5y57Gu67/TKk2wN8RXquPC016O0KpsGm1hfWFhJ8+1xnNOLqOKy2eLA6SJlMtSsa9ib4F0zn8W3DpI7l6Xg8zc6ktwMo0U1+oi+nd7flR9F1luUqv6xqpxtxnYBuzk57iwZDnR5wDh5htkhJ8j74i5JNRIxM4CakUBrLCW7Ru8YwchFoZsfZd3pOlYxrNzSRgE=
  - secure: f93H4Pc64qku4p/Ygn7jiqrjqu7FB9tSTSEXqTahf5Cle42MzVjx3sH3Hdrl5fEbY0W+9gmvlfnAgDeRXM4YEHtOejPx5PYg/JjPxlpDLrTTY9SVZ9CiHWo2ZGK3TH5r7DMNwisGWWdjRVUul/Xf5io9r+HEE10h9dsTWxsM5K13GxyioBKj2sQfeVR7ukot4W5ZypcAd2pDJ+MGrHWyb6D0EtrPx9GNW5FvhSecI+NOOURApNCzv3FItjYqq77C5rEPMSrN83ooV6dU6U0XH6MQ0Am65Yu4WJYNUFfKN+un2pohV5AL/jH+KrUC/3Rpz/+g+FiFwxdldsuJ8Eb6zL7UOl19qMY5dBoN+MJsYNe0iT3ftWUFquL7W1fYGeJQMpv1FbikFeDeko6pWiZVdr/zzrEAvQIFXFlZfkHlTARjqAdVcEaTIo/983nEpVp/S0IA5hBhCsszwFl3zTtDN+Soi9I6MJp1C91xxy1y/zOyp2v132nwFVAsXqThEnSo0Whp53FGJGi+4o5A8hM9NJIYb1KAe8Cr0ElNl4b/SgPzj3LVILhOYQIur1QS0L8ksFuhGUJFXGNcU5zYjFVCIDuj2J4+2HDtPun31BPsJ9xxtWlrHubEQRsC+PAummiFQi8wl7NV7XuyVBCunq8FqbBqfccjeqs81oXYwn43rzo=
  - secure: nomSyDVKqUAjjGX+SqFdQ0+CmLqeWrAES0+M0AHxaeoNcHCy9ZIQEWj27qY2NqWMgew4GG+ERyC9GhLzhQC9xtXC4eb61Ampm7RalI2o3hGBJFEQnOqKgwLvfr0wpKUzNHC6Ibqskmk4IYhPnQbdaquIzoiDzzo+Y3UtrCmE3gTBfvTzLirk+HyVQ6NvSP3wRMxqouaAmLminj3GkmTs0E57RZxs8pcCWsXdPto3jhfTzPhWspUUJ3U4Hfl/xYHm50KFYyuN/LCPwdWHZ+0d1fZqZOV4VzLy4OGjcFoxXpT9sEz8HMTaAnlfV6VPcslroX45YfKLBjyPB1mj5Yra35FmeyNYCnADWAbry66gwCdy3XxHw6WjcNMVLeNPUDdgEJ67dIUAwQlyHR74i7Y6rdEGYDMlJZdHGSIgLdGTx29u3HMlx2vYE/ih67ODnWu/MXg4Px8gM5XZch7pA+7NWBmQj4I3c8drJMT9VjO4FcSpZ6+FG1Oubk4nv6IcDyxwjkTKUstfsymTvnZ/sJnAxxIalx5EiCAmwhqIkR/4vaNDXGJ/K6U6BW8qtp+OEz5V3pMVOIe0+W+hOivLkUTtIr8L+YcG571aBNP7cEQ5VSZOlJWwyw2hC2TO6sWpiJiuKErj8fQipolDPBCM8Aj2DlvN18rKjrgWx4/2I3+2qdQ=
  - secure: zGplSolocSBVj6VJgBGOZ5k+U0Blkdkil4O2d0DqXF+/DRJoJWCzUilV5AMY++cdbLNDyOpCX+fm9/25lFSXAkw3Hej5gPKSHnbgX8IQ1jxqp1gQx6mR+DjTrFq8r2ZPuClC8u+9tZ3U3+C6jQwpSF6FHaMwxXu+9gjZ6Y+gyckn/h+jQonq7IyPn6GHDxspMIWiXAZHxzSnE8w/bDv3AAqYbI7f2B2YWArJgi5D+ho6Li/iB3xMSPkvsuAJbRF3r/GQ2V3ezr0kTE3CGl4NdhPpGGP0gPC0mMC6gJdg8eJ6ZV0N3E7mUb02aUjbRfj1icknvqGMsyuqrVJRt8DYK1qxee/iTTALP76j9OpW6yH0iSNXpBuWjYuk5n7A/261FqF+Uvwd42tUwzJ8FclD0yBTkWyvJPZ05Drj/MDtixltzBxREMMSDuVHLNrHlIIsOXY0s8tEvtNxM4gvVrsOsfjPfqQN+yo0/i2j/6tP7s0uyVFWVDETEJ1asDZg71nvdzURPeyvLm9ZYCnZEaFTTnbiORx4pX7oI/BF1gZ7n1oa4hchfqXn3CtYuEyZqvCwPaLKCQETfbFUV1/TXqUBYV4SUmDigBSN8zLT3EMK66+8NyUoXoThRGD2/zViKVkV6VSgQr/pQ4UjC+eyXx15nSDBgBidhjSzD/xI2KToCdw=
  - secure: Z+X8pUNN7iE/sT4jbiInkeExC8sab4XZ+ovzSXkVHLIQG2sBCuHcgucVbKOD6xEk9Rp7e8UGBQfTiaQ5NkKyn4B2CqPU1pl0CnhjkcfYAwzdefcpmyF4UnV+7VO1521pPvV6X5lsJru5dglWwd/f+6zMedVmRV0OXzVrBh4qU+egyLB0lRDH8gZus96TcU0Y+LSRMufQ6Ygckq6TR0rgZBefAjLZu0g/FgBZxb3r6wfVGcKqYn02uBP8PplEeaQfWsSMrvPxCxRYyP0SDJb7v+LH0KXG1jd9qwqSBcb1c6VtU8E7TnrPLepoAMKjH3GuT6li9aj1bwRnfM4TKm1d2HUZ7PWz5hXFtnLgjHhuBkcyoQ+ShRlGd1Wkf92mceajzPUhFw0O48ZZfAq/12u5V3eh/DHxNTIX2/40ByjtuKdphBaSk3DHAkPD8iY/7l1jBysfjefZfF7r5SdjvNnOSQv/JpYusec0aFY7a7Ags5KKACVFbpIMWEusjOy94M7im6vikDrRDgtZP/W8YNPDh3+qCkBpqHil7qk3kLNAFtLaOLFqaR9uSKOSgehJZAnZQdYH76paLizrO/6hiEfYHeFPOvp9XyJpGakGg9mBHnd3Yo0FcZ87Qjc/rihJ2YjTpZv1XapgT4aHvqkDJLNfQVbGoRkijTAPTYN/NW5hLwE=
  - secure: phteK69f+p0oYNtDfSyPOSy+ySyoctCqlOftiQWFfkLET+dWMMu30k/B+zmhA8dLoyiM2xreSpumolZt2gQfyXHeSoJiJG/5QUW0nF9n1Tl84v4X8MNq1dfZf80FzFVyQP4BPv7hNvGqxXHCAC/0z9CXjr2txh19Bal9299XmMgchb1c8uc9+77TjPD1A1gvhPj21X4PEfV1TGvixaduMFjEMZDNoVRVSIXAr64WCuBE5ZhcI5lrL/QprTqfI/Ev51aNxNjCZ5Lo/fN7BsP+oJHugsXJJeyNeVy5zaKvHerEPySelcmoDJunDWXnNMcCvi+JLQHtZuYE3xz3ueGgPhBxy08ufAbCicDafGeXKQsBN6lvnQ9lgWfw3tcJi8/NnTkZX8N73myaVgoaTsjpQZG5+hpnnVbahGKobZoFHQkbVdD1KepPaoeMHOsKJtDEgbUGp94vU3FHyAeNxKhhG0EV5M9k9x3+NaTizhcKZZNG1HBLhGUDOK+EI6wMPUR4yYJ33oUR0pSx7ZxmzCx9nShCddjGqJ/WF/BVtgLQi1XfItZzOnSI+t+UxaGbdYROL54if9XoaTVpihtZL+WvA3mLryb04tRTpOHxASsqz4+PlvUutdP7cJDWrOIn/EOzeckDNZkIjB4+5XGzY4kounTZYegZ+OZW1QFgZYIMbgs=
