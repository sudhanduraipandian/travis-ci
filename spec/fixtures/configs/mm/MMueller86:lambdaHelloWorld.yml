language: java
jdk: oraclejdk8
sudo: required

services:
  - docker

before_install:
- rm ~/.m2/settings.xml
- docker pull ryanratcliff/dynamodb
deploy:
  skip_cleanup: true
  provider: s3
  bucket: gamecard
  region: us-east-1
  access_key_id: AKIAJVHAVDNVK6G5YA4A
  secret_access_key:
    secure: OgUjthxpCqLcYtcgavB7JmkFXB3mH9QZfVdmc2R/8ohjdwyKa2OZL89B9KcR3Af8CBCEsyQM5jb6fkgX9romQ2a7JkVGKmJcj03ZdhmkYNES0RPHtoVfBR8bcZZUz7koGxlfAvrt3QEiE/MH10gOV7+JTafxdtrAbuRfRceZBBsFNdplXSwufJAbUyrc970NfiJMkqXVGwQ6ouxXBpYnHE3Zf7OHVvxSO8BTmh932wcdR1JCJ9R2Dhe3sxgHcLNgdg3OzDs2ekvP4DWvwMzqAgVUkKoBsD5IP5ncJC6Nt8EUhaSsPPT0QJxobBv+h7025x0zNiJULQkVdmbqGApxpwo9gFlHfBu8R11CqHRZP+n44JNNeO0T0QYX6ExxF4T78xPDQu/BfYuK7frftWBOiHaKxFEjHaz75VqbathCUZx7pJO3iZ2bAkbWVt0lYVJOgb12VsCsrI4ztMjmCIqZlkoGCISPjj1bmGMBrO1K+RDSO8ZGVYekYMKh1jfTuQGdWkCEfCnXQwLtLdQZ/mo537UAkwhmr9gE9X205hTTKau32/dJHWt1qzScssI6aC89IYWjJRwmk6gCQ0DMAUo12y2wh+mB2HxaPrQKrB3ITnWI63Xesp4gdU8+KHjR7rzPxSvTe2YEefN10HvYyX3xCdkaf5tnBY7Fw/L3DC05SwM=
addons:
  sonarqube:
    organization: mmueller86-github
    branches:
      - master
      - sonartypeNexus
      - SpringData
      - dynamoDb
    token:
      secure: Pr7pQBRQcY2xQl9K5rJAsl9JNYQtK0tKu8YTj7bhawfE60JhfW06H80RK7zceDfQDJY1StJc1BebE22CL2pDCCFoRRkz99x4Sryl1R8Wal94Vdue4oRAIziLekhnd3hUgEiaATO7I52F7TIWx8BcMp45TobeExxFXlLqfDUJlXIfEJIwB22v571/4lE0e2/b9vJdQkoTG9/nYOGo4JNRM5CSIu1Xop2jkm+uV/5UW4bav8IdlwLvRA6Qns+oI8ZZorW54wqYwd5HxkOkFKSo8d5zojaWZAv2eckq9yo9x6HdrkCXv1dqi5nQMay5KiDcfI4p0fTWzp8AxsPGM/J1pc2nOF/UzICpiiZLxgQ2iwL5HPAraru7ZEYLob1JsQ1e17MXepiwPmRmmENkPrzI/kg9+dcDoe7038bGLGnQ/Q/qpsfJX4+AiW20HU1+uFTP0NkPhGol504zGIewZyOaoZAAH0jRdCdQxXIKXWv2pV2L8p4awnjnEMUjapoIy9K6VFld92KPivmc/tHUSxm18rNQlXXt/6r+wQrEXxNgb6ATmErGEUbI7m0DzqHYXB//5IsLsNNSL88POKYB5JATpPzxdtEmVwOw/vjTtEcq/3QLZkgeKTPV/z1sKvwYgAe9J77pVtX9/EEg63pG4lLBwwNIV5BKDfKHW7YGo3HS4mE=
    github_token:
      secure: Nzpp/CwCm41k6cApIZYq5h8Z0G+A8VihJK4HItX76wOpNH2Zq1JKX3gqcbVmBnoViglYOfIBeGbSwjqLxBK9jCUJYfTz01BoA1nCCMAMvKUsA0lrMq5xQccGFS6ECJTN/37hEuGn0FgunqOeuQ7E/SeB0/gcU9nsPqc3Y/2nssA/DHzyuPtTUrusWPEgvdAblzOjm4h9k//DYF4c137EEMrHv62BiCdnCK8tUJbCcLzYi8pfYsSPH4alo+xmDE08kFoz6yHi93hWTMKQcoHo5uEXEKnTpDYOFZoBb1vQO+JX1l7XkAlGruUwKeFpYh4YcqD2Hp4CPTVMP082EHDphyZKhCzMF4Et2t5x0jj3snvMYrjtH6h9g7raOa9sry68JmbIdmqaYEWNxNQQYuav8vwDu0+0b9T023uUlsxsGq4CZTWW8tmpOtWBTq60Uq2uFf8yyCwfOeDan0mO0TtHkXOVWYZuc2WfRPyb5aVHvYSzCps8VV6tg2G6ay2Nig3AFY5o54bHKzL81oMEvasKJiDFMRsvicFf1/58HnkWjlpm+4MA9dXM3ZKW/D2Z4dIos+20HkNuml3COi8URyFBaRJQjiGbPdcIVy8a4djTUHyOwAEufUE1fM+xFtDx0U4a9yhy4t/iPzOauv3UTWMYnc8o39MUSN3SzIOOoM5ZNf0=

script:
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar
  - mvn clean deploy -DskipTests --settings maven-settings-for-travis.xml
env:
  global:
  - secure: ayFwN0K5HszwfvBW+1wrg5B71vxy4X5xOj9wyS2EbKl2Fc9OttwfzayQqFLGaE5f8aoCMKwGTd1HqJRNhXwkICj2qay48VpzI+bb1+kbS0ZsBcnzldSxSTtWMWSkeNShVk4IQF9iYtCEKc51vw/2BwRUPIQss75xoxAWGj8U9H+v9lqVxXpSUdxk7ufPinXlt0dh/pS6uH3YMJKtbUp3CE0uw4ZT7fgS9bLCzOROjLDsudn9uDOpXz04MBC7aLPAunggRSUwnYuXOTAXumzoeArMZnoplQn+N7bx/j7wE4+6I9gAWwsspYaOvfnJ70/6mbwKjlprRQDyMC7lQcxrrNNS1eddy4noWC2mJxh+CzzChie79DqB1MG02fh1ambI+8K//G/IT/QRcbD073kTi9aHiJVUgTZF7fKBRF0R3DP298oWIWiogFRWJ3SESjAm28A4JCg8caitgmNzySVtS930sLixGfzp7ccWc1gjvavUnj3HXEm46mvhyKDuJcl0BvH2mewvne5icEs+61S15rXgx6GZ+B07z7RqVtcjPgMniUNuxm/xsK9xP7LXnlJoY07PIpqFLYBLPPJDWryJ2xMMDdm41vf69jj+nBMbkltCw+NGWLcQ0DhBJ/6VzylaMoRcFqhFl3tMStI3sYl5zWCDIUH/xDILV3BYY0zXffg=
  - secure: vUe/PDePVNYbp9Or/JaIm62yyqZ+x5QeIwc2y0Y+j4+hi3n5OOvE14HeSWc2TK3ZRMJhg/3ov2G0wAEe4DKZL40mXujufJ9ylNIm2YvIf+MvtFEXavdNFdMVPwbysut8Bj7GvCL/MbtyLlgmTYzUymuto7cY6vuvOR+G9K/WvIrvtpWRn0JiEb/Q4plqcvjN8burgegCERi6Fmp5LR+FraTtGrDlKc7hLB3GH+Kwc1HTm6ksWFBcIzGcsL9sTuHVWAj49rBHW07Wslu0iboCdFfaZ5vPQ+ja/9yc9pRg0eFHLBBEsacSlQj9U6Nf6cAICp+G3nevIRTxCy0d17mnqUVI7nDx8uNH13P1UWPZ/O52xZ+IIxBIxRCDKpr3/y7uBLReE3TwJ40o6iQdAgOO6cJXLpjoa44qMMclzfUgsVk1JJJQVyKrCIMtf+RpdjAZN8tB2hMnELr+fOHN3Pf5OF8wQJ04IxaKBsp2CdP3bLePEBbOLhIbmeNg1K+KKcCvkLQKM9yvuRKNYn9Tv1OJXCjbk8Jcr9mM16YU6rSKNZ6S6og242mnOdWq8QDYLGeOx78L19/G6v7fPEIVKRvMjOZdPiLinODmT8GMYAq1sF1+nB/VZ7yLpK6F78SAtB/z3haH+PXylOrXBXPXyF5URpu1VymPO5bPzAunnAxxnvk=
